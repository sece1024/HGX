> ​	**18级校外实习未参加实训的学生，需要提交一份报告，具体要求如下：**
>
> 1. 报告内容必须和校外实习工作内容相关，主要介绍你所从事的工作内容，所采用的技术、方法、工具和开发环境等；
> 2. 报告主要包括你所参与项目背景及意义、项目国内外研究现状（自己查资料）、介绍你所做的工作(重点)和实习总结四个部分；
> 3. 字数不少于3000字，查重率不高于30%。
> 4. 20号之前交给班长

~~161~~

# ***\*实习报告\****

​	2021年7月1日，经过两轮面试，我正式成为了武汉珈鹰智能科技有限公司的安卓开发实习生，我的工作是为公司开发一款具备图像采集和岩芯基本信息编录功能的安卓手机软件，开发工具为Android Studio，使用Java语言，项目管理工具为Gradle。

​	因为过去并没有安卓开发的经验，所以实习之初我的主要任务是撰写设计文档、画界草图、组内讨论需求，以及参加公司与甲方的会议，这个时间大概持续了两周，需求确定以后公司决定快速做出第一个测试版本，我之前就有iOS系统的开发经验，经过这段时间的学习也懂得了安卓开发的基本操作，于是正式开始上手开发这个App

我所在公司制作这个App目的是供现场岩芯勘探人员进行钻孔岩芯基本数据录入工作，App使用手机自带相机采集岩芯箱图像，然后导出到电脑端的自动化统计软件中。App包含登录、创建项目、添加孔、拍照、质量评估和上传6个主要活动界面，完成当前步骤后，点击步骤条上的箭头按钮进行界面之间的跳转。

为了方便现场人员操作，我和公司项目负责人对软件运行进行了长时间的讨论沟通，最后确定一部分需要由我来实现的App设计。

功能设计：

\1. 用户登录设置为一段时间内默认登录；

\2. 必要流程设置为自动弹出；

\3. 非必须环节的项目参数设置为80%概率下的默认值；图像质量判断的执行时间；

\4. 将算法执行时间控制在秒级，保证能够快速响应；

\5. 在关键环节给与适当提示（语音或文字）；

容灾设计：

\1. 拍照时若意外退出，下次进入时继续上次的拍照；

\2. 拍照结束后用户没有上传，下次进入时会提示是否上传之前的项目；

\3. 对关键的图像和项目参数进行手机端备份，防止出现数据损失问题；

\4. App软件设置为自动删除3个月之前的图像，且自动删除图像时间可以自动设置，防止SD卡存满。

写文档的过程是枯燥的，但也我理清楚了这个软件该做些什么，虽然它的基本功能是信息录入、拍照和数据导出，但在此基础上还延申出文件和照片自动命名、用户登录、拍照前显示提示信息、相机自动聚焦等功能。

​	为了实现这些需求我一边开发一边学习Android系统上的文件保存与读取方式、记住持久化数据的使用方法、SQLite数据库的使用方法以及调用手机系统摄像头拍照等知识。

​	因为甲方对图像的质量有要求，我必须知道如何修改相机分辨率、自定义相机预览尺寸，GitHub上的开源项目给了我很大的帮助，特别是相机部分，我在项目中使用的自定义相机，引入了一个通过传感器检测手机移动后相机自动对焦的项目。

我所用到的大部分知识都是从开源代码中学来，如何将文件保存在手机外部存储，如何创建独立的项目文件夹，如何写SQLite数据库的建表语句和增删查改接口，我一点一滴地将这些功能实现在项目中。

做项目的过程和在学校做课程设计有些相似，都是将一个作品慢慢搭建起来，但不同的是，这不再是过去所做的玩具，而是真正需要被投入市场的产品，我们一个项目组坐在一起是为了同一个目标在工作，我们需要记录自己的工作内容并且让其他人清楚自己的开发进度，以便组长对后续的整体计划进行调整。

​	有时会遇到一些困难的问题阻碍开发进度，比如说目前使用的开源相机预览尺寸不符合我们App的需求，这时我就需要查找更多资料去学习如何自定义SurfaceView的尺寸或者改用其他具备相同功能的相机。

​	我所在的项目组是公司的图像组，主要是用机器学习算法来处理图像的，他们对安卓开发了解的不多，使用的主要语言是Python，因此无法从技术上对我提供支持，在开发App过程遇到的大大小小的问题都要由我自己解决，而在解决这些问题的过程中我才觉得自己真正开始入门安卓开发。

​	一开始的开发进度是比较令人满意，公司让我选购的安卓开发书籍对我的帮助也很大，但随着App逐渐搭建完成，我越发觉得自己一开始做的东西实在是简陋，它只能作为一个演示功能的demo，而不能成为真正能供用户使用的应用。

​	于是，我开始思考如何优化自己的代码。

​	我发现App的结构一开始并没有梳理得很清楚。因为需要登录功能，所以我做了个登录界面，写账号保存与验证的代码；因为需要钻孔岩芯项目创建功能，我写了对应的界面和代码。需要拍照功能，我导入他人的相机模块然后在此基础上二次开发；需要图像校正功能，我导入华为开发的图像识别机器学习库的Android模块，修改了它的图像矫正流程来适应我们现在的项目。

​	代码日益增多，项目的结构渐渐变得混乱，模块与模块之间的依赖关系，项目资源调用的问题，Activity文件中功能性代码过多导致难以修改的问题让我开始头大了。

​	而公司并没有专门开发安卓的技术人员，无法向身边的人寻求建议，所以我开始思考如何将书本上项目架构的知识运用在实际开发中。

​	然后我了解了MVVM，也就是Model-View-ViewModel架构，也了解了安卓App的模块化开发流程。

​	我开始对自己的项目进行重构，把不同功能的代码放进不同的模块中，这是照猫画虎的阶段。

​	之后，我依照模块化设计拆分自己的代码，可是拆分的过程中却发现这样做虽然能使项目结构清晰一些，但过于繁琐，比起独立开发，它更适合多人协作的项目，于是我不再要求自己非要按照固定的流程一板一眼地将不同的功能放进不同的模块。

​	通过MVVM架构，我顺带学习了DataBinding的使用方法，学会了用这种数据绑定的方式避免重复去写用findViewById()绑定控件的代码。

​	当发现SQLite数据库其实并不适合保存这个App需要编录的信息时，我便学着使用非关系型数据库，并将一个开源的安卓非关系型数据库项目“Paper”引入了现在的App。

​	两个月的实习生活很充实，我将自己所做的事情当做是已经明确了的目标来做，以为只要实现了这些功能我的任务就完成了。

​	但事实上并不是这样，我们公司的这套软件是按照某“勘察设计研究院”的要求做的，只有当甲方觉得满意后我的工作才算真正完成。

​	最初的需求是通过与甲方的会议确定的，那时只商讨了App需要具备的功能，当我们实现这些功能后召开成果讨论会时，需求却再次增加了。

​	地图定位、连接服务器上传和下载数据、中文输入补全，膨胀的需求立刻让这个App从一个岩芯照片采集软件成为了专门的钻孔编录软件，无限增多的需求让我感觉App的开发陷入了泥潭之中，而这时，我的实习期也即将结束了。

​	对于一个软件来说，这些需求确实有它的合理性。

钻孔编录是一项重要的地质勘探任务，需要录入的数据是复杂多样的，我们公司承担了将钻孔采取率计算智能化的工作，这个App只是一个获取岩芯图像数据的辅助软件，要求在采集图像的同时录入一些和钻孔有关的参数是合理的，但是从公司层面来说，开发时间的延长也将导致成本的增加，这个项目却是越早结束越好。

​	如今，我的工作即将收尾，作为一个实习生我从中学习到的东西超出了最初的预计，入职之前我没有接触过安卓开发而现在我已独立开发出了一个App，虽然它只是最初的一个适用版本，还达不到商业化的程度。

这次实习收获很大，比起写代码解决技术上的问题，外出参加会议与甲方沟通的经历更加让我印象深刻。

一次会议上，甲方提出需要能够在没有网络的情况下创建钻孔项目，他们说，有很多地质勘探工作都是在野外网络条件不好的情况下进行的。

我突然联想到一群勘探人员进入深山老林里在地面打出钻孔挖掘岩芯来分析地质，他们使用纸和笔来记录各个岩芯箱的箱底孔深，记录钻孔不同深度的地层时代。

钻孔编录是地质勘探的一项重要任务，在如今一切都渐渐数字化、智能化的时代，原始的手动编录也会慢慢地被数字化编录方法取代，我实习期间所作的工作也许是这其中微不足道的一环。

岩芯识别的工作在国外已经有公司做了，我们公司就曾调研过国外的一个的岩芯图像分割软件，它只需用户点击图像里的岩芯就能将单独的岩芯识别并分割出来。

而我所在的公司是使用机器学习的方式来自动分割岩芯，最后得到采取率，RQD岩石质量指标等数据。

目前我国将钻孔岩芯编录数字化的工作还不成熟，可能不同的勘探机构使用的编录系统都不一样，这导致了数字化编录软件推广困难，很难制作出能被业界普遍认可的软件，但从另一方面来看更多公司能进入这个领域参与竞争，也创造了一些机遇。

 